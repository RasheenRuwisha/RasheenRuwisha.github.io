var _0x6737=["\x74\x65\x74\x72\x69\x73","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64","\x32\x64","\x67\x65\x74\x43\x6F\x6E\x74\x65\x78\x74","\x73\x63\x61\x6C\x65","\x6C\x65\x6E\x67\x74\x68","\x66\x69\x6C\x6C","\x73\x70\x6C\x69\x63\x65","\x75\x6E\x73\x68\x69\x66\x74","\x73\x63\x6F\x72\x65","\x6D\x61\x74\x72\x69\x78","\x70\x6F\x73","\x79","\x78","\x70\x75\x73\x68","\x49","\x4C","\x4A","\x4F","\x5A","\x53","\x54","\x66\x69\x6C\x6C\x53\x74\x79\x6C\x65","\x66\x69\x6C\x6C\x52\x65\x63\x74","\x66\x6F\x72\x45\x61\x63\x68","\x23\x30\x30\x30","\x77\x69\x64\x74\x68","\x68\x65\x69\x67\x68\x74","\x72\x65\x76\x65\x72\x73\x65","\x54\x4A\x4C\x4F\x53\x5A\x49","\x72\x61\x6E\x64\x6F\x6D","\x69\x6E\x6E\x65\x72\x54\x65\x78\x74","\x6B\x65\x79\x64\x6F\x77\x6E","\x6B\x65\x79\x43\x6F\x64\x65","\x61\x64\x64\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72","\x23\x46\x46\x30\x44\x37\x32","\x23\x30\x44\x43\x32\x46\x46","\x23\x30\x44\x46\x46\x37\x32","\x23\x46\x35\x33\x38\x46\x46","\x23\x46\x46\x38\x45\x30\x44","\x23\x46\x46\x45\x31\x33\x38","\x23\x33\x38\x37\x37\x46\x46"];const canvas=document[_0x6737[1]](_0x6737[0]);const context=canvas[_0x6737[3]](_0x6737[2]);context[_0x6737[4]](20,20);function arenaSweep(){let _0xe375x4=1;outer:for(let _0xe375x5=arena[_0x6737[5]]- 1;_0xe375x5> 0;--_0xe375x5){for(let _0xe375x6=0;_0xe375x6< arena[_0xe375x5][_0x6737[5]];++_0xe375x6){if(arena[_0xe375x5][_0xe375x6]=== 0){continue outer}};const _0xe375x7=arena[_0x6737[7]](_0xe375x5,1)[0][_0x6737[6]](0);arena[_0x6737[8]](_0xe375x7);++_0xe375x5;player[_0x6737[9]]+= _0xe375x4* 10;_0xe375x4*= 2};}function collide(arena,player){const _0xe375xb=player[_0x6737[10]];const _0xe375xc=player[_0x6737[11]];for(let _0xe375x5=0;_0xe375x5< _0xe375xb[_0x6737[5]];++_0xe375x5){for(let _0xe375x6=0;_0xe375x6< _0xe375xb[_0xe375x5][_0x6737[5]];++_0xe375x6){if(_0xe375xb[_0xe375x5][_0xe375x6]!== 0&& (arena[_0xe375x5+ _0xe375xc[_0x6737[12]]]&& arena[_0xe375x5+ _0xe375xc[_0x6737[12]]][_0xe375x6+ _0xe375xc[_0x6737[13]]])!== 0){return true}}};return false}function createMatrix(_0xe375xe,_0xe375xf){const _0xe375x10=[];while(_0xe375xf--){_0xe375x10[_0x6737[14]]( new Array(_0xe375xe)[_0x6737[6]](0))};return _0xe375x10}function createPiece(_0xe375x12){if(_0xe375x12=== _0x6737[15]){return [[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]]}else {if(_0xe375x12=== _0x6737[16]){return [[0,2,0],[0,2,0],[0,2,2]]}else {if(_0xe375x12=== _0x6737[17]){return [[0,3,0],[0,3,0],[3,3,0]]}else {if(_0xe375x12=== _0x6737[18]){return [[4,4],[4,4]]}else {if(_0xe375x12=== _0x6737[19]){return [[5,5,0],[0,5,5],[0,0,0]]}else {if(_0xe375x12=== _0x6737[20]){return [[0,6,6],[6,6,0],[0,0,0]]}else {if(_0xe375x12=== _0x6737[21]){return [[0,7,0],[7,7,7],[0,0,0]]}}}}}}}}function drawMatrix(_0xe375x10,_0xe375x14){_0xe375x10[_0x6737[24]]((_0xe375x7,_0xe375x5)=>{_0xe375x7[_0x6737[24]]((_0xe375x15,_0xe375x6)=>{if(_0xe375x15!== 0){context[_0x6737[22]]= colors[_0xe375x15];context[_0x6737[23]](_0xe375x6+ _0xe375x14[_0x6737[13]],_0xe375x5+ _0xe375x14[_0x6737[12]],1,1)}})})}function draw(){context[_0x6737[22]]= _0x6737[25];context[_0x6737[23]](0,0,canvas[_0x6737[26]],canvas[_0x6737[27]]);drawMatrix(arena,{x:0,y:0});drawMatrix(player[_0x6737[10]],player[_0x6737[11]])}function merge(arena,player){player[_0x6737[10]][_0x6737[24]]((_0xe375x7,_0xe375x5)=>{_0xe375x7[_0x6737[24]]((_0xe375x15,_0xe375x6)=>{if(_0xe375x15!== 0){arena[_0xe375x5+ player[_0x6737[11]][_0x6737[12]]][_0xe375x6+ player[_0x6737[11]][_0x6737[13]]]= _0xe375x15}})})}function rotate(_0xe375x10,_0xe375x19){for(let _0xe375x5=0;_0xe375x5< _0xe375x10[_0x6737[5]];++_0xe375x5){for(let _0xe375x6=0;_0xe375x6< _0xe375x5;++_0xe375x6){[_0xe375x10[_0xe375x6][_0xe375x5],_0xe375x10[_0xe375x5][_0xe375x6]]= [_0xe375x10[_0xe375x5][_0xe375x6],_0xe375x10[_0xe375x6][_0xe375x5]]}};if(_0xe375x19> 0){_0xe375x10[_0x6737[24]]((_0xe375x7)=>_0xe375x7[_0x6737[28]]())}else {_0xe375x10[_0x6737[28]]()}}function playerDrop(){player[_0x6737[11]][_0x6737[12]]++;if(collide(arena,player)){player[_0x6737[11]][_0x6737[12]]--;merge(arena,player);playerReset();arenaSweep();updateScore()};dropCounter= 0}function playerMove(_0xe375x14){player[_0x6737[11]][_0x6737[13]]+= _0xe375x14;if(collide(arena,player)){player[_0x6737[11]][_0x6737[13]]-= _0xe375x14}}function playerReset(){const _0xe375x1d=_0x6737[29];player[_0x6737[10]]= createPiece(_0xe375x1d[_0xe375x1d[_0x6737[5]]* Math[_0x6737[30]]()| 0]);player[_0x6737[11]][_0x6737[12]]= 0;player[_0x6737[11]][_0x6737[13]]= (arena[0][_0x6737[5]]/ 2| 0)- (player[_0x6737[10]][0][_0x6737[5]]/ 2| 0);if(collide(arena,player)){arena[_0x6737[24]]((_0xe375x7)=>_0xe375x7[_0x6737[6]](0));player[_0x6737[9]]= 0;updateScore()}}function playerRotate(_0xe375x19){const _0xe375x1f=player[_0x6737[11]][_0x6737[13]];let _0xe375x14=1;rotate(player[_0x6737[10]],_0xe375x19);while(collide(arena,player)){player[_0x6737[11]][_0x6737[13]]+= _0xe375x14;_0xe375x14=  -(_0xe375x14+ (_0xe375x14> 0?1:-1));if(_0xe375x14> player[_0x6737[10]][0][_0x6737[5]]){rotate(player[_0x6737[10]],-_0xe375x19);player[_0x6737[11]][_0x6737[13]]= _0xe375x1f;return}}}let dropCounter=0;let dropInterval=1000;let lastTime=0;function update(_0xe375x24= 0){const _0xe375x25=_0xe375x24- lastTime;dropCounter+= _0xe375x25;if(dropCounter> dropInterval){playerDrop()};lastTime= _0xe375x24;draw();requestAnimationFrame(update)}function updateScore(){document[_0x6737[1]](_0x6737[9])[_0x6737[31]]= player[_0x6737[9]]}document[_0x6737[34]](_0x6737[32],(_0xe375x27)=>{if(_0xe375x27[_0x6737[33]]=== 37){playerMove(-1)}else {if(_0xe375x27[_0x6737[33]]=== 39){playerMove(1)}else {if(_0xe375x27[_0x6737[33]]=== 40){playerDrop()}else {if(_0xe375x27[_0x6737[33]]=== 81){playerRotate(-1)}else {if(_0xe375x27[_0x6737[33]]=== 87){playerRotate(1)}}}}}});const colors=[null,_0x6737[35],_0x6737[36],_0x6737[37],_0x6737[38],_0x6737[39],_0x6737[40],_0x6737[41]];const arena=createMatrix(12,20);const player={pos:{x:0,y:0},matrix:null,score:0};playerReset();updateScore();update()